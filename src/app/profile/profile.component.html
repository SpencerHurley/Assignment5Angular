<app-navbar></app-navbar>
<br>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-5">
      <h1 class="text-center">My Info</h1>
      <br>
      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <span class="input-group-text">Username: &nbsp; &nbsp; </span>
        </div>
        <input
          [(ngModel)]="user.username"
          type="text" class="form-control"
          placeholder="Username"
          aria-label="Username" aria-describedby="basic-addon1">
      </div>

      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">First name: &nbsp; </span>
        </div>
        <input
          [(ngModel)]="user.firstName"
          type="text" class="form-control"
          placeholder="Username"
          aria-label="Username" aria-describedby="basic-addon1">
      </div>

      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">Last name: &nbsp; &nbsp; </span>
        </div>
        <input
          [(ngModel)]="user.lastName"
          type="text" class="form-control"
          placeholder="Username"
          aria-label="Username" aria-describedby="basic-addon1">
      </div>

      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">Email: &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span>
        </div>
        <input
          [(ngModel)]="user.email"
          type="text" class="form-control"
          placeholder="Username"
          aria-label="Username" aria-describedby="basic-addon1">
      </div>

      <div class="input-group mb-2">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">Weekly goal:</span>
        </div>
        <input
          [(ngModel)]="user.weeklyGoal"
          type="text" class="form-control"
          placeholder="Username"
          aria-label="Username" aria-describedby="basic-addon1">
        <div class="input-group-append">
          <span class="input-group-text" id="basic-addon1">miles</span>
        </div>
      </div>
      <button  (click)="update()"
               class="btn btn-info btn-block moveDown">
        Update Info
      </button>
    </div>
    <div class="col-md-7 d-flex verticalLine">
      <div class="container-fluid">
        <h2 class="text-center">
          Weekly Progess:
        </h2>
        <p class="text-center">
          {{mileage}}/{{user.weeklyGoal}} miles run in last 7 days
        </p>
        <circle-progress class="circle"
                         [percent]="mileage / user.weeklyGoal * 100"
                         [radius]="100"
                         [outerStrokeWidth]="16"
                         [innerStrokeWidth]="8"
                         [outerStrokeColor]="'#78C000'"
                         [innerStrokeColor]="'#C7E596'"
                         [animation]="true"
                         [animationDuration]="300"
        ></circle-progress>
        <a class="btn btn-success btn-block" routerLink="/newRun">Log New Run</a>
        <br>
      </div>
    </div>
  </div>
  <div class="topLine">
    <br>
    My runs this week:
    <ul class="list-group justify-content-between">
      <li *ngFor="let run of runs"
          class="d-flex list-group-item justify-content-between align-items-center botline">
        <b class="mr-auto p-2">{{run.title}}</b>
        <span class="badge badge-info badge-pill p-2">{{run.distance}} miles</span>
        <span class="badge badge-info badge-pill p-2">Pace: {{this.math.round(run.duration * 100/run.distance) / 100}}
          minutes/mile</span>
        <span class="badge badge-success badge-pill p-2">More info</span>
      </li>
    </ul>
  </div>

</div>
